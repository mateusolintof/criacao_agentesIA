# ==================================
# LLM PROVIDERS
# ==================================

# OpenAI (Updated Nov 2025)
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4-turbo  # or gpt-4o, gpt-4o-mini, o1-preview, o1-mini
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=4096

# Anthropic Claude (optional)
# ANTHROPIC_API_KEY=sk-ant-...
# ANTHROPIC_MODEL=claude-3-5-sonnet-20241022  # Updated to latest

# Google (optional)
# GOOGLE_API_KEY=...
# GOOGLE_MODEL=gemini-pro

# Cohere (optional)
# COHERE_API_KEY=...

# ==================================
# VECTOR STORE
# ==================================

# ChromaDB (local, default)
CHROMA_PERSIST_DIRECTORY=./data/chroma

# Pinecone (optional)
# PINECONE_API_KEY=...
# PINECONE_ENVIRONMENT=us-west1-gcp
# PINECONE_INDEX_NAME=agente-comercial

# FAISS (local, default)
FAISS_INDEX_PATH=./data/faiss

# ==================================
# MEMORY & STATE
# ==================================

# Redis (for short-term memory)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_TTL=86400  # 24 hours

# PostgreSQL (for long-term storage)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=agente_ia
POSTGRES_USER=postgres
POSTGRES_PASSWORD=
POSTGRES_SSL_MODE=prefer

# ==================================
# APPLICATION
# ==================================

# Environment
ENVIRONMENT=development  # development, staging, production

# API Server
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=True  # Set to False in production

# Logging
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json or text
LOG_FILE=./logs/app.log

# ==================================
# SECURITY
# ==================================

# JWT
JWT_SECRET_KEY=your-super-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# API Keys (para autenticação)
API_KEY_HEADER=X-API-Key
VALID_API_KEYS=key1,key2,key3

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:8000
CORS_ALLOW_CREDENTIALS=True

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60  # seconds

# ==================================
# INTEGRATIONS
# ==================================

# CRM (exemplo: Salesforce, HubSpot, RD Station)
CRM_API_URL=https://api.crm.com
CRM_API_KEY=
CRM_TIMEOUT=30

# ERP (exemplo: SAP, TOTVS)
ERP_API_URL=
ERP_API_KEY=
ERP_TIMEOUT=30

# Payment Gateway (exemplo: Stripe, PagSeguro)
PAYMENT_API_URL=
PAYMENT_API_KEY=
PAYMENT_WEBHOOK_SECRET=

# Email Service (exemplo: SendGrid, Mailgun)
EMAIL_SERVICE=sendgrid  # sendgrid, mailgun, smtp
EMAIL_API_KEY=
EMAIL_FROM=noreply@example.com
EMAIL_FROM_NAME=Agente IA

# SMS Service (exemplo: Twilio)
SMS_SERVICE=twilio
SMS_ACCOUNT_SID=
SMS_AUTH_TOKEN=
SMS_FROM_NUMBER=

# WhatsApp Business API
WHATSAPP_API_URL=
WHATSAPP_API_KEY=
WHATSAPP_PHONE_NUMBER_ID=

# ==================================
# MONITORING & OBSERVABILITY
# ==================================

# AGNO AgentOS (optional - for production deployment)
# AGNO_API_KEY=
# AGNO_ENDPOINT=https://api.agno.ai
# AGNO_PROJECT_ID=

# CrewAI Enterprise (optional - for production crews)
# CREWAI_API_KEY=
# CREWAI_ENTERPRISE_ENDPOINT=

# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_METRICS_PATH=/metrics

# Sentry (error tracking)
# SENTRY_DSN=

# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=agente-ia

# ==================================
# AGENT CONFIGURATION
# ==================================

# AGNO Agent Configuration (for single-agent systems)
AGNO_AGENT_NAME=Agente Comercial
AGNO_TOOL_CALL_LIMIT=10  # Max tool calls per interaction
AGNO_NUM_HISTORY_RUNS=5  # Number of previous runs to include in context
AGNO_DB_FILE=./data/agno_memory.db  # SQLite database for memory
AGNO_ENABLE_AGENTIC_MEMORY=True

# CrewAI Configuration (for multi-agent systems)
CREWAI_VERBOSE=True
CREWAI_PROCESS=sequential  # sequential or hierarchical
CREWAI_PLANNING=True  # Enable planning mode
CREWAI_MANAGER_LLM=gpt-4-turbo  # For hierarchical process

# General Agent Behavior
AGENT_MAX_ITERATIONS=10
AGENT_TIMEOUT=60  # seconds
AGENT_VERBOSE=True

# Conversation
MAX_CONVERSATION_HISTORY=20
CONVERSATION_MEMORY_TYPE=sqlite  # sqlite (AGNO), redis, postgresql
CONVERSATION_TIMEOUT=1800  # 30 minutes

# Guardrails
ENABLE_INPUT_VALIDATION=True
ENABLE_OUTPUT_VALIDATION=True
ENABLE_HALLUCINATION_DETECTION=True
ENABLE_PII_DETECTION=True
MAX_INPUT_LENGTH=2000
MAX_OUTPUT_LENGTH=4000

# Business Rules
MAX_DISCOUNT_PERCENTAGE=20
MIN_ORDER_VALUE=50
REQUIRE_MANAGER_APPROVAL_ABOVE=10000

# ==================================
# FEATURES FLAGS
# ==================================

FEATURE_MULTI_AGENT=True
FEATURE_VOICE_SUPPORT=False
FEATURE_IMAGE_ANALYSIS=False
FEATURE_FILE_UPLOAD=True
FEATURE_PROACTIVE_MESSAGES=False

# ==================================
# COST CONTROL
# ==================================

# Token Limits
MAX_TOKENS_PER_DAY=1000000
MAX_TOKENS_PER_USER=10000
MAX_COST_PER_DAY_USD=100

# Caching
ENABLE_PROMPT_CACHING=True
CACHE_TTL=3600  # 1 hour
ENABLE_RESPONSE_CACHING=True

# ==================================
# TESTING
# ==================================

# Test Mode
TEST_MODE=False
MOCK_LLM_RESPONSES=False
MOCK_INTEGRATIONS=False

# Test Data
TEST_USER_ID=test-user-001
TEST_CONVERSATION_ID=test-conv-001
